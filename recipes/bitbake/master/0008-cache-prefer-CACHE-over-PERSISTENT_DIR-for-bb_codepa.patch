From a76df22101fce0b8e2bc2894afc4c3b8e093f7ae Mon Sep 17 00:00:00 2001
From: Enrico Scholz <enrico.scholz@sigma-chemnitz.de>
Date: Tue, 11 Feb 2014 11:47:48 +0100
Subject: [PATCH 08/10] cache: prefer CACHE over PERSISTENT_DIR for
 bb_codeparser.dat

Signed-off-by: Enrico Scholz <enrico.scholz@sigma-chemnitz.de>
---
 lib/bb/cache.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lib/bb/cache.py b/lib/bb/cache.py
index c09f929..c3c7a2c 100644
--- a/lib/bb/cache.py
+++ b/lib/bb/cache.py
@@ -743,8 +743,8 @@ class MultiProcessCache(object):
         self.cachedata_extras = self.create_cachedata()
 
     def init_cache(self, d, cache_file_name=None):
-        cachedir = (d.getVar("PERSISTENT_DIR", True) or
-                    d.getVar("CACHE", True))
+        cachedir = (d.getVar("CACHE", True) or
+                    d.getVar("PERSISTENT_DIR", True))
         if cachedir in [None, '']:
             return
         bb.utils.mkdirhier(cachedir)
-- 
2.5.5

