From c4e8f5782d21bf49448027976288a387ac4001e6 Mon Sep 17 00:00:00 2001
From: Enrico Scholz <enrico.scholz@informatik.tu-chemnitz.de>
Date: Sat, 16 Jul 2011 14:14:09 +0200
Subject: [PATCH 14/20] add file:// schema when cloning

Command will fail else when clonedir contains a ':' (e.g. in
'host:portnumber')
---
 lib/bb/fetch2/git.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/bb/fetch2/git.py b/lib/bb/fetch2/git.py
index b51962e..733f589 100644
--- a/lib/bb/fetch2/git.py
+++ b/lib/bb/fetch2/git.py
@@ -248,7 +248,7 @@ class Git(FetchMethod):
         if ud.bareclone:
             cloneflags.append("--mirror")
 
-        cloneflags.extend(["%s/" % ud.clonedir, destdir])
+        cloneflags.extend(["file://%s/" % ud.clonedir, destdir])
         ud.runfetch(cloneflags, d)
 
         if not ud.nocheckout:
-- 
1.7.10.2

