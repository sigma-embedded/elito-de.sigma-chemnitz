Index: strace-4.6/syscall.c
===================================================================
--- strace-4.6.orig/syscall.c
+++ strace-4.6/syscall.c
@@ -296,6 +296,18 @@ qualify_one(int n, int bitflag, int not,
 #endif /* SUPPORTED_PERSONALITIES >= 3 */
 }
 
+static int xstrcmp(char const *a, char const *b)
+{
+	if (a == b)
+		return 0;
+	else if (a == NULL)
+		return -1;
+	else if (b == NULL)
+		return +1;
+	else
+		return strcmp(a, b);
+}
+
 static int
 qual_syscall(const char *s, int bitflag, int not)
 {
@@ -310,14 +322,14 @@ qual_syscall(const char *s, int bitflag,
 		return 0;
 	}
 	for (i = 0; i < nsyscalls0; i++)
-		if (strcmp(s, sysent0[i].sys_name) == 0) {
+		if (xstrcmp(s, sysent0[i].sys_name) == 0) {
 			qualify_one(i, bitflag, not, 0);
 			rc = 0;
 		}
 
 #if SUPPORTED_PERSONALITIES >= 2
 	for (i = 0; i < nsyscalls1; i++)
-		if (strcmp(s, sysent1[i].sys_name) == 0) {
+		if (xstrcmp(s, sysent1[i].sys_name) == 0) {
 			qualify_one(i, bitflag, not, 1);
 			rc = 0;
 		}
@@ -325,7 +337,7 @@ qual_syscall(const char *s, int bitflag,
 
 #if SUPPORTED_PERSONALITIES >= 3
 	for (i = 0; i < nsyscalls2; i++)
-		if (strcmp(s, sysent2[i].sys_name) == 0) {
+		if (xstrcmp(s, sysent2[i].sys_name) == 0) {
 			qualify_one(i, bitflag, not, 2);
 			rc = 0;
 		}
