#@TYPE: Machine
#@Name: Toradex Colibri320 PXA320
#@DESCRIPTION: Machine configuration for Toradex Colibri320 PXA320 Platform

TARGET_ARCH		 = "arm"
TARGET_CPU		 = 'iwmmxt'
TARGET_ABI		 = "aapcs-linux"
TARGET_FPU		 = "soft"
TARGET_OS		 = "linux-gnueabi"

MACHINE_FEATURES	?= "iwmmxt kernel26 kdebug ubifs mobm320 u-boot ${PROJECT_FEATURES}"
MACHINE_KERNEL_VERSION	?= 2.6.30
KERNEL_BRANCH		?= toradex/colibri320
KERNEL_DEFCONFIG	?= colibri320_defconfig
KERNEL_IMAGETYPE	 = uImage

UBOOT_MACHINE		?= "colibri320_config"
UBOOT_BRANCH		?= "toradex/colibri320"

NAND_PAGESIZE		 =       2048
NAND_BLOCKSIZE		 =     131072
FLASH_SIZE		 = 1073741824

MACHINE_DISPLAY_BPP		?= 24
MACHINE_DISPLAY_WIDTH_PIXELS	?= 640
MACHINE_DISPLAY_HEIGHT_PIXELS	?= 480

RDEPENDS_kernel-base	 = ""

MOBM320_IMAGE		?= mobm-colibri320-1.2.img
MOBM320_ENV_ARGS	?= '--serial 0x001122334455'

ROOTFS_SIZE		?= 52428800
UBI_VOLUMES		?= "\
	kernel		static	${KERNEL_IMAGETYPE}-${MACHINE}.bin	2097152,	\
	bootenv		static	${IMAGE_NAME}.bootenv		16384,		\
	bootloader	static	u-boot-${MACHINE}.bin		131072,		\
	rootfs		dynamic	${IMAGE_NAME}.rootfs.ubifs	${ROOTFS_SIZE}	\
"

require conf/machine/include/tune-iwmmxt.inc

SERIAL_CONSOLE		 = "115200 ttySA1"
EXTRA_OECONF_BASE=
