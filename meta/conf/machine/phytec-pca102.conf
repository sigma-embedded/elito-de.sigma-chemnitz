#@TYPE: Machine
#@Name: Phytec PhyCard-L (PCA102)
#@DESCRIPTION: Machine configuration for Phytec PhyCard-L (PCA102)

TARGET_ARCH		 = "arm"
TARGET_CPU		 = 'cortex-a8'
TARGET_ABI		 = "aapcs-linux"

#DEFAULTTUNE		 = "cortexa8-neon"
#TUNE_FEATURES_append    = " no-thumb-interwork"

SOC_FAMILY		 = "omap3"

MACHINE_FEATURES	?= "kernel26 jffs2 barebox kdebug ${PROJECT_FEATURES}"
MACHINE_KERNEL_VERSION	?= "2.6.38"
KERNEL_BRANCH		?= "phytec/pca102"
KERNEL_DEFCONFIG	?= "pca102_defconfig"
KERNEL_IMAGETYPE	 = "uImage"
KERNEL_BOOT_VARIANT	 = "uboot"

UBOOT_VERSION		?= "2010.10.0"
UBOOT_MACHINE		?= "pca102_defconfig"
UBOOT_BRANCH		?= "phytec/pca102"

require conf/machine/include/tune-cortexa8.inc

SERIAL_CONSOLE		?= "115200 ttyO2"
EXTRA_OECONF_BASE=

TUNE_CCARGS := '${@"${TUNE_CCARGS}".replace("-mtune=", "-mcpu=")}'

FLASH_ERASESIZE		?= "${@0x00020000}"

EXTRA_IMAGECMD_jffs2 =+ "\
  --little-endian \
  --eraseblock=${FLASH_ERASESIZE} \
  --no-cleanmarkers \
"
